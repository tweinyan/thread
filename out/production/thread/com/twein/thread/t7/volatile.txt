volatile

* Volatile称之为轻量级锁，被volatile修饰的变量，在线程之间是可见的
* 可见：一个线程修改了这个变量的值，在另一个线程中能够读到这个修改后的值
* Synchronized除了线程之间互斥以外，还有一个非常大的作用，就是保证可见性
* volatile只能保证原子操作在线程间的可见性


Lock指令

* 在多处理器的系统上
  * 将当前处理器缓存行的内容写回到系统内存
  * 这个写回到内存的操作会使在其他cpu里缓存了该内存地址的数据失效
* 硬盘--内存--cpu的缓存